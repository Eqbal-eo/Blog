# مدونات آفاق - Blog Platform

## إعداد المشروع محلياً

1. استنسخ المستودع:
```bash
git clone <repository-url>
cd Blog
```

2. تثبيت التبعيات:
```bash
npm install
```

3. إعداد متغيرات البيئة:
```bash
cp .env.example .env
```
ثم قم بتعديل ملف `.env` وإضافة القيم الصحيحة.

4. تشغيل المشروع:
```bash
npm start
```

## النشر على Vercel

### إعداد متغيرات البيئة في Vercel:

1. اذهب إلى [vercel.com](https://vercel.com)
2. اختر مشروعك
3. اذهب إلى **Settings** → **Environment Variables**
4. أضف المتغيرات التالية:

#### متغيرات قاعدة البيانات:
- `SUPABASE_URL` - رابط قاعدة بيانات Supabase
- `SUPABASE_ANON_KEY` - مفتاح Supabase العام

#### متغيرات الأمان:
- `JWT_SECRET` - مفتاح سري لتشفير JWT

#### متغيرات البريد الإلكتروني:
- `ZOHO_EMAIL` - بريد الإرسال (مثل: no-reply@yourdomain.com)
- `ZOHO_PASSWORD` - كلمة مرور البريد
- `ZOHO_APP_PASSWORD` - كلمة مرور التطبيق (إذا كان مطلوباً)
- `ADMIN_EMAIL` - بريد المدير

#### متغيرات الموقع:
- `WEBSITE_URL` - رابط الموقع النهائي
- `NODE_ENV` - production

### خطوات النشر:

1. ادفع التغييرات إلى GitHub:
```bash
git add .
git commit -m "Update for production"
git push origin main
```

2. في Vercel، اربط المستودع وسيتم النشر تلقائياً.

## كيف يعمل البريد الإلكتروني في الإنتاج؟

عندما يكون الموقع مرفوع على النطاق:

1. **متغيرات البيئة**: يقرأ التطبيق المتغيرات من إعدادات Vercel (ليس من ملف .env)
2. **SMTP**: يتصل بخادم Zoho Mail مباشرة باستخدام البيانات المُعدّة
3. **الأمان**: جميع البيانات الحساسة محفوظة في متغيرات البيئة الآمنة

## ملاحظات مهمة:

- ملف `.env` لا يتم رفعه للمستودع (محمي بـ .gitignore)
- جميع البيانات الحساسة تُعدّ في لوحة تحكم Vercel
- التطبيق يعمل تماماً كما يعمل محلياً لكن بالإعدادات المناسبة للإنتاج
